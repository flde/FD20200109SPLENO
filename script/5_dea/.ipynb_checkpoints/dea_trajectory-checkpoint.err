[NbConvertApp] Converting notebook dea_trajectory.r.ipynb to html
Traceback (most recent call last):
  File "/home/fdeckert/bin/miniconda3/bin/jupyter-nbconvert", line 11, in <module>
    sys.exit(main())
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/jupyter_core/application.py", line 264, in launch_instance
    return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/traitlets/config/application.py", line 846, in launch_instance
    app.start()
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/nbconvertapp.py", line 361, in start
    self.convert_notebooks()
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/nbconvertapp.py", line 533, in convert_notebooks
    self.convert_single_notebook(notebook_filename)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/nbconvertapp.py", line 498, in convert_single_notebook
    output, resources = self.export_single_notebook(notebook_filename, resources, input_buffer=input_buffer)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/nbconvertapp.py", line 427, in export_single_notebook
    output, resources = self.exporter.from_filename(notebook_filename, resources=resources)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/exporters/exporter.py", line 190, in from_filename
    return self.from_file(f, resources=resources, **kw)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/exporters/exporter.py", line 208, in from_file
    return self.from_notebook_node(nbformat.read(file_stream, as_version=4), resources=resources, **kw)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/exporters/html.py", line 145, in from_notebook_node
    return super().from_notebook_node(nb, resources, **kw)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/exporters/templateexporter.py", line 376, in from_notebook_node
    nb_copy, resources = super().from_notebook_node(nb, resources, **kw)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/exporters/exporter.py", line 147, in from_notebook_node
    nb_copy, resources = self._preprocess(nb_copy, resources)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/exporters/exporter.py", line 334, in _preprocess
    nbc, resc = preprocessor(nbc, resc)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/preprocessors/base.py", line 47, in __call__
    return self.preprocess(nb, resources)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/preprocessors/execute.py", line 84, in preprocess
    self.preprocess_cell(cell, resources, index)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbconvert/preprocessors/execute.py", line 105, in preprocess_cell
    cell = self.execute_cell(cell, index, store_history=True)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbclient/client.py", line 846, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/home/fdeckert/bin/miniconda3/lib/python3.8/site-packages/nbclient/client.py", line 748, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
evaluate_k_ery <- evaluateK(
    
    counts=GetAssayData(so_ery, assay="RNA", slot="counts"),
    pseudotime=so_ery$dpt_ery,
    cellWeights=rep(1, ncol(so_ery)),
    conditions=factor(so_ery$treatment, levels=c("NaCl", "CpG")),
    nGenes=300,
    k=3:7
)

saveRDS(evaluate_k_ery, "result/tradeseq/evaluatek_ery.rds")
# evaluate_k_ery <- readRDS("result/tradeseq/evaluatek_ery.rds")
------------------

Error: Cannot find 'dpt_ery' in this Seurat object
Traceback:

1. evaluateK(counts = GetAssayData(so_ery, assay = "RNA", slot = "counts"), 
 .     pseudotime = so_ery$dpt_ery, cellWeights = rep(1, ncol(so_ery)), 
 .     conditions = factor(so_ery$treatment, levels = c("NaCl", 
 .         "CpG")), nGenes = 300, k = 3:7)
2. evaluateK(counts = GetAssayData(so_ery, assay = "RNA", slot = "counts"), 
 .     pseudotime = so_ery$dpt_ery, cellWeights = rep(1, ncol(so_ery)), 
 .     conditions = factor(so_ery$treatment, levels = c("NaCl", 
 .         "CpG")), nGenes = 300, k = 3:7)
3. .local(counts, ...)
4. evaluateK(counts = as.matrix(counts), k = k, nGenes = nGenes, 
 .     sds = sds, pseudotime = pseudotime, cellWeights = cellWeights, 
 .     plot = plot, U = U, weights = weights, offset = offset, aicDiff = aicDiff, 
 .     verbose = verbose, conditions = conditions, parallel = parallel, 
 .     BPPARAM = BPPARAM, control = control, family = family, gcv = gcv, 
 .     ...)
5. evaluateK(counts = as.matrix(counts), k = k, nGenes = nGenes, 
 .     sds = sds, pseudotime = pseudotime, cellWeights = cellWeights, 
 .     plot = plot, U = U, weights = weights, offset = offset, aicDiff = aicDiff, 
 .     verbose = verbose, conditions = conditions, parallel = parallel, 
 .     BPPARAM = BPPARAM, control = control, family = family, gcv = gcv, 
 .     ...)
6. .local(counts, ...)
7. so_ery$dpt_ery
8. `$.Seurat`(so_ery, dpt_ery)
9. x[[i, drop = TRUE]]
10. `[[.Seurat`(x, i, drop = TRUE)
11. stop("Cannot find '", i, "' in this Seurat object", call. = FALSE)
ERROR: Error: Cannot find 'dpt_ery' in this Seurat object


